{
  "showQuestionNumbers": "off",
  "checkErrorsMode": "onValueChanging",
  "pages": [
    {
      "name": "welcome",
      "title": {
        "default": "Welcome",
        "sv": "Välkommen"
      },
      "elements": [
        {
          "type": "checkbox",
          "name": "installType",
          "title": {
            "default": "What component(s) are you looking to setup?",
            "sv": "Vilka komponenter vill du installera?"
          },
          "isRequired": true,
          "colCount": 1,
          "choices": [
            {
              "value": "Main solution",
              "text": {
                "default": "Main solution",
                "sv": "Huvudlösning"
              }
            },
            {
              "value": "Satellite solution",
              "text": {
                "default": "Satellite solution",
                "sv": "Satellitlösning"
              }
            },
            {
              "value": "Security Group Setup",
              "text": {
                "default": "Security Group Setup",
                "sv": "Konfiguration av säkerhetsgrupp"
              }
            }
          ]
        },
        {
          "type": "html",
          "visibleIf": "contains({installType}, 'Main solution')",
          "html": {
            "default": "Will collect connection information for Main solution deployment. The main solution manages and monitors metered Power Automate Desktop solutions. Normally there will be one Main solution deployment per Power Platform tenant",
            "sv": "Samlar in anslutningsinformation för distribution av huvudlösningen. Huvudlösningen hanterar och övervakar Power Automate Desktop-lösningar med datapriser. Normalt finns det en huvudlösningsdistribution per Power Platform klientorganisation"
          }
        },
        {
          "type": "html",
          "visibleIf": "contains({installType}, 'Satellite solution')",
          "html": {
            "default": "Will collect information required to setup a monitored Power Platform environment. Power Automate cloud flows to centralize information with the central main solution Automation Kit environment. Normally there will be multiple satellite solution deployments per Power Platform tenant",
            "sv": "Samlar in information som krävs för att konfigurera en övervakad Power Platform miljö. Power Automate molnflöden för att centralisera information med den centrala huvudlösningen Automation Kit-miljön. Normalt sker det flera satellitlösningsdistributioner per Power Platform klientorganisation"
          }
        },
        {
          "type": "html",
          "visibleIf": "contains({installType}, 'Security Group Setup')",
          "html": {
            "default": "Configure users / groups that should be assigned to security groups for Administration, Contribution and View permissions for Automation projects",
            "sv": "Konfigurera användare/grupper som ska tilldelas säkerhetsgrupper för administrations-, bidrags- och visningsbehörigheter för Automation-projekt"
          }
        }
      ]
    },
    {
      "title": {
        "default": "Main Solution - Prerequisites",
        "sv": "Huvudlösning - Förutsättningar"
      },
      "name": "prereqTest1",
      "visibleIf": "contains({installType}, 'Main solution')",
      "elements": [
        {
          "type": "checkbox",
          "name": "prereqTest1",
          "title": {
            "default": "Verify that the following has been setup for the environment you will install the Automation Kit Main solution",
            "sv": "Kontrollera att följande har konfigurerats för den miljö som du ska installera Automation Kit Main-lösningen"
          },
          "choices": [
            {
              "value": "You have have environment administrator rights so we can enable [PowerApps component framework feature](https://learn.microsoft.com/power-apps/developer/component-framework/component-framework-for-canvas-apps#enable-the-power-apps-component-framework-feature)",
              "text": {
                "default": "You have have environment administrator rights so we can enable [PowerApps component framework feature](https://learn.microsoft.com/power-apps/developer/component-framework/component-framework-for-canvas-apps#enable-the-power-apps-component-framework-feature)",
                "sv": "Du har miljöadministratörsrättigheter så att vi kan aktivera [Funktion för PowerApps-komponentramverk](https://learn.microsoft.com/power-apps/developer/component-framework/component-framework-for-canvas-apps#enable-the-power-apps-component-framework-feature)"
              }
            },
            {
              "value": "I DO NOT have environment administrator rights",
              "text": {
                "default": "I DO NOT have environment administrator rights",
                "sv": "Jag har INTE miljöadministratörsrättigheter"
              }
            },
            {
              "value": "[Install Microsoft Power Platform CLI](https://learn.microsoft.com/power-platform/developer/cli/introduction#install-microsoft-power-platform-cli)",
              "text": {
                "default": "[Install Microsoft Power Platform CLI](https://learn.microsoft.com/power-platform/developer/cli/introduction#install-microsoft-power-platform-cli)",
                "sv": "[Installera Microsoft Power Platform CLI](https://learn.microsoft.com/power-platform/developer/cli/introduction#install-microsoft-power-platform-cli)"
              }
            },
            {
              "value": "The environment DLP policy allows for following connectors [Approvals](https://learn.microsoft.com/en-us/connectors/approvals/), [Microsoft Dataverse](https://learn.microsoft.com/en-us/connectors/commondataserviceforapps/), [Office 365 Outlook](https://learn.microsoft.com/en-us/connectors/office365/), [Office 365 Users](https://learn.microsoft.com/en-us/connectors/office365users/) and [Power Platform for Admins](https://learn.microsoft.com/en-us/connectors/powerplatformforadmins/)",
              "text": {
                "default": "The environment DLP policy allows for following connectors [Approvals](https://learn.microsoft.com/en-us/connectors/approvals/), [Microsoft Dataverse](https://learn.microsoft.com/en-us/connectors/commondataserviceforapps/), [Office 365 Outlook](https://learn.microsoft.com/en-us/connectors/office365/), [Office 365 Users](https://learn.microsoft.com/en-us/connectors/office365users/) and [Power Platform for Admins](https://learn.microsoft.com/en-us/connectors/powerplatformforadmins/)",
                "sv": "DLP-miljöprincipen tillåter följande anslutningsappar [Godkännanden](https://learn.microsoft.com/en-us/connectors/approvals/), [Microsoft Dataverse](https://learn.microsoft.com/en-us/connectors/commondataserviceforapps/), [Office 365 Outlook](https://learn.microsoft.com/en-us/connectors/office365/), [Office 365-användare](https://learn.microsoft.com/en-us/connectors/office365users/) och [Power Platform för administratörer](https://learn.microsoft.com/en-us/connectors/powerplatformforadmins/)"
              }
            },
            {
              "value": "'Power Apps Per User', 'Per App' or 'Pays as you go' license for users who will be Administrators, Contributors or viewers of Automation Projects",
              "text": {
                "default": "'Power Apps Per User', 'Per App' or 'Pays as you go' license for users who will be Administrators, Contributors or viewers of Automation Projects",
                "sv": "Licensen \"Power Apps per användare\", \"per app\" eller \"Betalar per användning\" för användare som kommer att vara administratörer, deltagare eller tittare av Automation-projekt"
              }
            },
            {
              "value": "Office E3 license or above for Office 365 Outlook connection used by Cloud Flow",
              "text": {
                "default": "Office E3 license or above for Office 365 Outlook connection used by Cloud Flow",
                "sv": "Office E3-licens eller högre för Office 365 Outlook-anslutning som används av Cloud Flow"
              }
            },
            {
              "value": "Download of free [Power BI Desktop](https://powerbi.microsoft.com/en-us/desktop/) or [Power BI Premium](https://powerbi.microsoft.com/en-us/power-bi-premium/) to share your dashboard inside your organization",
              "text": {
                "default": "Download of free [Power BI Desktop](https://powerbi.microsoft.com/en-us/desktop/) or [Power BI Premium](https://powerbi.microsoft.com/en-us/power-bi-premium/) to share your dashboard inside your organization",
                "sv": "Ladda ner gratis [Power BI Desktop](https://powerbi.microsoft.com/en-us/desktop/) eller [Power BI Premium](https://powerbi.microsoft.com/en-us/power-bi-premium/) Så här delar du instrumentpanelen i organisationen"
              }
            }
          ]
        },
        {
          "type": "html",
          "visibleIf": "contains({prereqTest1}, 'I DO NOT have environment administrator rights')",
          "html": {
            "default": "You will need to have have an environment admin enable <a href='https://learn.microsoft.com/power-apps/developer/component-framework/component-framework-for-canvas-apps#enable-the-power-apps-component-framework-feature' target='blank'>PowerApps component framework feature</a>. If you have PowerApps component framework feature enabled you do not need environment administrator rights.",
            "sv": "Du måste ha en miljöadministratör aktiverad <a href='https://learn.microsoft.com/power-apps/developer/component-framework/component-framework-for-canvas-apps#enable-the-power-apps-component-framework-feature' target='blank'>Funktion för PowerApps-komponentramverk</a>. Om du har aktiverat PowerApps-komponentramverksfunktionen behöver du inte miljöadministratörsrättigheter."
          }
        },
        {
          "type": "boolean",
          "name": "isSystemCustomizer",
          "visibleIf": "contains({prereqTest1}, 'I DO NOT have environment administrator rights')",
          "title": {
            "default": "Are you a member of the System Customizer role for the environment?",
            "sv": "Är du medlem i rollen Systemanpassare för miljön?"
          }
        },
        {
          "type": "html",
          "visibleIf": "contains({prereqTest1}, 'I DO NOT have environment administrator rights') and {isSystemCustomizer} = false",
          "html": {
            "default": "You will need need to have a minimum of System Customizer to import the Automation Kit solutions",
            "sv": "Du måste ha ett minimum av systemanpassare för att importera Automation Kit-lösningarna"
          }
        }
      ]
    },
    {
      "title": {
        "default": "Main Solution",
        "sv": "Huvudlösning"
      },
      "visibleIf": "contains({installType}, 'Main solution')",
      "elements": [
        {
          "name": "main-instanceUrl",
          "type": "text",
          "title": {
            "default": "Copy instance url",
            "sv": "Kopiera instans-URL"
          },
          "isRequired": true,
          "validators": [
            {
              "type": "regex",
              "text": {
                "default": "Must be a valid environment instance url like https://contoso.crm.dyanamics.com/",
                "sv": "Måste vara en giltig miljöinstans-URL som [https://contoso.crm.dyanamics.com/]()"
              },
              "regex": "https://([-a-z0-9].*?)\\.crm(.*?)\\.dynamics\\.com/"
            }
          ]
        },
        {
          "type": "html",
          "html": {
            "default": "Get the instance url from <a href='https://make.powerapps.com' target='blank'>http://make.powerapps.com</a> Settings -> Session details dialog",
            "sv": "Hämta instans-URL:en från <a href='https://make.powerapps.com' target='blank'>http://make.powerapps.com</a> Inställningar -> Dialogrutan Sessionsinformation"
          }
        },
        {
          "type": "markdown",
          "title": {
            "default": "Installation home link Notes",
            "sv": "Installation hem länk Anmärkningar"
          },
          "markdown": "Om du vill hämta parametrarna för installationsmiljön går du till <a href='https://make.powerapps.com' target='blank'>http://make.powerapps.com</a> välj ikonen **Ikon för Hem** för din miljö vill du installera huvudlösningskomponenter i"
        },
        {
          "name": "main-installEnvironment",
          "type": "text",
          "title": {
            "default": "Copy Install Environment home link",
            "sv": "Kopiera startlänken för installationsmiljön"
          },
          "isRequired": true,
          "validators": [
            {
              "type": "regex",
              "text": {
                "default": "Must be a valid Power Platform environment starting with https://make.powerapps.com",
                "sv": "Måste vara en giltig Power Platform miljö som börjar med [https://make.powerapps.com]()"
              },
              "regex": "^https:\\/(.*?).powerapps.com\\/environments\\/([a-zA-Z0-9\\-].*?)\\/home"
            }
          ]
        },
        {
          "type": "html",
          "html": {
            "default": "This environment could be the same environment as the CoE Kit.",
            "sv": "Den här miljön kan vara samma miljö som CoE-paketet."
          }
        },
        {
          "type": "create-connection",
          "title": {
            "default": "Create",
            "sv": "Skapa"
          },
          "connector": "shared_approvals",
          "environment": "main-installEnvironment"
        },
        {
          "name": "main-approvalConnection",
          "type": "text",
          "title": {
            "default": "Copy Approval Connection details page link here",
            "sv": "Kopiera sidan Anslutningsinformation för godkännande här"
          },
          "isRequired": true,
          "startWithNewLine": false,
          "validators": [
            {
              "type": "regex",
              "text": {
                "default": "Must be a valid Power Platform connection link starting with https://make.powerapps.com",
                "sv": "Måste vara en giltig Power Platform anslutningslänk som börjar med [https://make.powerapps.com]()"
              },
              "regex": "^(https://(.*?).powerapps.com/environments/)([a-zA-Z0-9\\-].*?)(/connections/shared_approvals/)[a-zA-Z0-9]{32,32}(/details.*)"
            }
          ]
        },
        {
          "type": "html",
          "html": {
            "default": "The Approvals connector is used to approve or deny Automation Project requests",
            "sv": "Anslutningsappen Godkännanden används för att godkänna eller neka Automation-projektbegäranden"
          }
        },
        {
          "type": "create-connection",
          "title": {
            "default": "Create",
            "sv": "Skapa"
          },
          "connector": "shared_commondataserviceforapps",
          "environment": "main-installEnvironment"
        },
        {
          "name": "main-dataverseConnection",
          "type": "text",
          "title": {
            "default": "Copy Microsoft Dataverse Connection details page link here",
            "sv": "Kopiera länken till sidan Microsoft Dataverse-anslutningsinformation här"
          },
          "startWithNewLine": false,
          "isRequired": true,
          "validators": [
            {
              "type": "regex",
              "text": {
                "default": "Must be a valid Power Platform connection link starting with https://make.powerapps.com",
                "sv": "Måste vara en giltig Power Platform anslutningslänk som börjar med [https://make.powerapps.com]()"
              },
              "regex": "^(https://(.*?).powerapps.com/environments/)([a-zA-Z0-9\\-].*?)(/connections/shared_commondataserviceforapps/)[a-zA-Z0-9]{32,32}(/details.*)"
            }
          ]
        },
        {
          "type": "html",
          "html": {
            "default": "The Dataverse connector is used to store your Automation Kit project and telemetry data",
            "sv": "Dataverse-anslutningsappen används för att lagra Automation Kit-projektet och telemetridata"
          }
        },
        {
          "type": "create-connection",
          "title": {
            "default": "Create",
            "sv": "Skapa"
          },
          "connector": "shared_office365",
          "environment": "main-installEnvironment"
        },
        {
          "name": "main-office365OutlookConnection",
          "type": "text",
          "title": {
            "default": "Copy Office 365 Outlook Connection details page link here",
            "sv": "Kopiera länken till sidan med anslutningsinformation för Office 365 Outlook här"
          },
          "startWithNewLine": false,
          "isRequired": true,
          "validators": [
            {
              "type": "regex",
              "text": {
                "default": "Must be a valid Power Platform connection link starting with https://make.powerapps.com",
                "sv": "Måste vara en giltig Power Platform anslutningslänk som börjar med [https://make.powerapps.com]()"
              },
              "regex": "^(https://(.*?).powerapps.com/environments/)([a-zA-Z0-9\\-].*?)(/connections/shared_office365/)[a-zA-Z0-9]{32,32}(/details.*)"
            }
          ]
        },
        {
          "type": "html",
          "html": {
            "default": "The Office 365 connector is used to send emails as part of the Automation Kit management process",
            "sv": "Office 365-anslutningsappen används för att skicka e-post som en del av Automation Kit-hanteringsprocessen"
          }
        },
        {
          "type": "create-connection",
          "title": {
            "default": "Create",
            "sv": "Skapa"
          },
          "connector": "shared_office365users",
          "environment": "main-installEnvironment"
        },
        {
          "name": "main-office365UserConnection",
          "type": "text",
          "title": {
            "default": "Copy Office 365 User Connection details page link here",
            "sv": "Kopiera länken till sidan Användaranslutning för Office 365 här"
          },
          "startWithNewLine": false,
          "isRequired": true,
          "validators": [
            {
              "type": "regex",
              "text": {
                "default": "Must be a valid Power Platform connection link starting with https://make.powerapps.com",
                "sv": "Måste vara en giltig Power Platform anslutningslänk som börjar med [https://make.powerapps.com]()"
              },
              "regex": "^(https://(.*?).powerapps.com/environments/)([a-zA-Z0-9\\-].*?)(/connections/shared_office365users/)[a-zA-Z0-9]{32,32}(/details.*)"
            }
          ]
        },
        {
          "type": "html",
          "html": {
            "default": "The Office 365 users connector is used to query user information from the Office 365 graph",
            "sv": "Office 365-användaranslutningen används för att fråga användarinformation från Office 365-diagrammet"
          }
        },
        {
          "type": "create-connection",
          "title": {
            "default": "Create",
            "sv": "Skapa"
          },
          "connector": "shared_powerplatformforadmins",
          "environment": "main-installEnvironment"
        },
        {
          "name": "main-powerPlatformAdminConnection",
          "type": "text",
          "title": {
            "default": "Copy Power Platform for Admins Automation Connection details page link here",
            "sv": "Kopiera länken Power Platform for Admins Automation Connection Connection (information om  för administratörer) här"
          },
          "startWithNewLine": false,
          "isRequired": true,
          "validators": [
            {
              "type": "regex",
              "text": {
                "default": "Must be a valid Power Platform connection link starting with https://make.powerapps.com",
                "sv": "Måste vara en giltig Power Platform anslutningslänk som börjar med [https://make.powerapps.com]()"
              },
              "regex": "^(https://(.*?).powerapps.com/environments/)([a-zA-Z0-9\\-].*?)(/connections/shared_powerplatformforadmins/)[a-zA-Z0-9]{32,32}(/details.*)"
            }
          ]
        },
        {
          "type": "html",
          "html": {
            "default": "The Power Platform for Admins Automation connector is used to query information about your deployed solutions",
            "sv": "Anslutningsappen Power Platform for Admins Automation används för att fråga information om dina distribuerade lösningar"
          }
        }
      ]
    },
    {
      "title": {
        "default": "Main Solution - Options",
        "sv": "Huvudlösning - Alternativ"
      },
      "visibleIf": "contains({installType}, 'Main solution')",
      "elements": [
        {
          "type": "text",
          "name": "main-businessApprover",
          "isRequired": true,
          "inputMask": "email",
          "title": {
            "default": "What is the email address of the default approver?",
            "sv": "Vad är e-postadressen till standardgodkännaren?"
          },
          "validators": [
            {
              "type": "email"
            }
          ]
        },
        {
          "type": "boolean",
          "name": "main-installSampleData",
          "isRequired": true,
          "title": {
            "default": "Import sample data after main solution is setup?",
            "sv": "Importera exempeldata när huvudlösningen har konfigurerats?"
          }
        },
        {
          "type": "html",
          "visibleIf": "{main-installSampleData} == true",
          "html": {
            "default": "Sample Corporate Goals, Automation Projects and telemetry data will be imported",
            "sv": "Exempel på företagsmål, automatiseringsprojekt och telemetridata importeras"
          }
        },
        {
          "type": "html",
          "visibleIf": "{main-installSampleData} == false",
          "html": {
            "default": "Only base data required for solution will be imported",
            "sv": "Endast basdata som krävs för lösningen importeras"
          }
        },
        {
          "type": "boolean",
          "name": "main-enableROIFlow",
          "isRequired": true,
          "title": {
            "default": "Enable Return on Investment (ROI) Power Automate cloud flow?",
            "sv": "Aktivera avkastning på investering (ROI) Power Automate molnflöde?"
          }
        },
        {
          "type": "html",
          "visibleIf": "{main-enableROIFlow} == true",
          "html": {
            "default": "The ROI cloud flow will be enabled so that complexity and ROI are calculated when Automation Projects are inserted or updated",
            "sv": "Roi-molnflödet aktiveras så att komplexitet och ROI beräknas när Automation-projekt infogas eller uppdateras"
          }
        },
        {
          "type": "html",
          "visibleIf": "{main-enableROIFlow} == false",
          "html": {
            "default": "You can enable the ROI cloud flow after update",
            "sv": "Du kan aktivera ROI-molnflödet efter uppdatering"
          }
        },
        {
          "type": "boolean",
          "name": "main-enableApprovalFlow",
          "isRequired": true,
          "title": {
            "default": "Enable Approval Power Automate cloud flow?",
            "sv": "Aktivera godkännande Power Automate molnflöde?"
          }
        },
        {
          "type": "html",
          "visibleIf": "{main-enableApprovalFlow} == true",
          "html": {
            "default": "The Approval cloud flow will be enabled so that approval requests are sent to approvers",
            "sv": "Molnflödet för godkännande aktiveras så att godkännandebegäranden skickas till godkännare"
          }
        },
        {
          "type": "html",
          "visibleIf": "{main-enableApprovalFlow} == false",
          "html": {
            "default": "You can enable the Approval cloud flow after update",
            "sv": "Du kan aktivera molnflödet för godkännande efter uppdatering"
          }
        },
        {
          "type": "boolean",
          "name": "main-enableSyncFlow",
          "isRequired": true,
          "title": {
            "default": "Enable Synchronization of Automation Kit data between environments?",
            "sv": "Aktivera synkronisering av Automation Kit-data mellan miljöer?"
          }
        },
        {
          "type": "html",
          "visibleIf": "{main-enableSyncFlow} == true",
          "html": {
            "default": "The Synchronization cloud flow will be enabled so data is sychronized with satellite environments",
            "sv": "Synkroniseringsmolnflödet aktiveras så att data sykroniseras med satellitmiljöer"
          }
        },
        {
          "type": "html",
          "visibleIf": "{main-enableSyncFlow} == false",
          "html": {
            "default": "You can enable the Synchronization cloud flow after update",
            "sv": "Du kan aktivera molnflödet för synkronisering efter uppdatering"
          }
        }
      ]
    },
    {
      "title": {
        "default": "Main Solution - Security Group Setup",
        "sv": "Huvudlösning – konfiguration av säkerhetsgrupp"
      },
      "visibleIf": "contains({installType}, 'Main solution') and contains({installType}, 'Security Group Setup')",
      "elements": [
        {
          "type": "paneldynamic",
          "name": "main-administrators",
          "title": {
            "default": "Please add Automation Kit members for the Automation Administrators Security Group",
            "sv": "Lägg till Automation Kit-medlemmar för säkerhetsgruppen Automation-administratörer"
          },
          "templateElements": [
            {
              "name": "user",
              "type": "text",
              "inputMask": "email",
              "title": {
                "default": "User or group email address",
                "sv": "Användarens eller gruppens e-postadress"
              },
              "isRequired": true,
              "validators": [
                {
                  "type": "email",
                  "text": {
                    "default": "Value must be a valid email address",
                    "sv": "Värdet måste vara en giltig e-postadress"
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "paneldynamic",
          "name": "main-contributors",
          "title": {
            "default": "Please add Automation Kit contributors that can view and edit Automation Projects",
            "sv": "Lägg till Automation Kit-deltagare som kan visa och redigera Automation-projekt"
          },
          "templateElements": [
            {
              "name": "user",
              "type": "text",
              "inputMask": "email",
              "title": {
                "default": "User or group email address",
                "sv": "Användarens eller gruppens e-postadress"
              },
              "isRequired": true,
              "validators": [
                {
                  "type": "email",
                  "text": {
                    "default": "Value must be a valid email address",
                    "sv": "Värdet måste vara en giltig e-postadress"
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "paneldynamic",
          "name": "main-viewers",
          "title": {
            "default": "Please add Automation Kit contributors that can review and view Automation Projects",
            "sv": "Lägg till Automation Kit-deltagare som kan granska och visa Automation-projekt"
          },
          "templateElements": [
            {
              "name": "user",
              "type": "text",
              "title": {
                "default": "User or group email address",
                "sv": "Användarens eller gruppens e-postadress"
              },
              "isRequired": true,
              "inputMask": "email",
              "validators": [
                {
                  "type": "email",
                  "text": {
                    "default": "Value must be a valid email address",
                    "sv": "Värdet måste vara en giltig e-postadress"
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "visibleIf": "contains({installType}, 'Main solution')",
      "elements": [
        {
          "type": "html",
          "html": {
            "default": "Use the download button below to obtain your main configuration file that will be used to customize your deployment",
            "sv": "Använd nedladdningsknappen nedan för att hämta huvudkonfigurationsfilen som ska användas för att anpassa distributionen"
          }
        },
        {
          "type": "download-task",
          "title": {
            "default": "Download results",
            "sv": "Ladda ner resultat"
          },
          "text": {
            "default": "Download",
            "sv": "Ladda ned"
          },
          "name": "downloadResults",
          "fileName": "automation-kit-main-install.json",
          "filter": "main"
        }
      ]
    },
    {
      "title": {
        "default": "Satellite Solution - Prerequisites",
        "sv": "Satellitlösning - Förutsättningar"
      },
      "visibleIf": "contains({installType}, 'Satellite solution')",
      "elements": [
        {
          "type": "checkbox",
          "name": "prereqTest2",
          "title": {
            "default": "Verify that the following has been setup for the environment you will install the Automation Kit Satellite solution",
            "sv": "Kontrollera att följande har konfigurerats för den miljö som du ska installera Automation Kit Satellite-lösningen"
          },
          "choices": [
            {
              "value": "You have have environment administrator rights so we can enable [PowerApps component framework feature](https://learn.microsoft.com/power-apps/developer/component-framework/component-framework-for-canvas-apps#enable-the-power-apps-component-framework-feature)",
              "text": {
                "default": "You have have environment administrator rights so we can enable [PowerApps component framework feature](https://learn.microsoft.com/power-apps/developer/component-framework/component-framework-for-canvas-apps#enable-the-power-apps-component-framework-feature)",
                "sv": "Du har miljöadministratörsrättigheter så att vi kan aktivera [Funktion för PowerApps-komponentramverk](https://learn.microsoft.com/power-apps/developer/component-framework/component-framework-for-canvas-apps#enable-the-power-apps-component-framework-feature)"
              }
            },
            {
              "value": "I DO NOT have environment administrator rights",
              "text": {
                "default": "I DO NOT have environment administrator rights",
                "sv": "Jag har INTE miljöadministratörsrättigheter"
              }
            },
            {
              "value": "[Install Microsoft Power Platform CLI](https://learn.microsoft.com/power-platform/developer/cli/introduction#install-microsoft-power-platform-cli)",
              "text": {
                "default": "[Install Microsoft Power Platform CLI](https://learn.microsoft.com/power-platform/developer/cli/introduction#install-microsoft-power-platform-cli)",
                "sv": "[Installera Microsoft Power Platform CLI](https://learn.microsoft.com/power-platform/developer/cli/introduction#install-microsoft-power-platform-cli)"
              }
            },
            {
              "value": "The environment DLP policy allows for the following connectors [Microsoft Dataverse](https://learn.microsoft.com/en-us/connectors/commondataserviceforapps/), [Microsoft Dataverse (Legacy)](https://learn.microsoft.com/en-us/connectors/commondataservice/), [Office 365 Outlook](https://learn.microsoft.com/en-us/connectors/office365/), [Office 365 Users](https://learn.microsoft.com/en-us/connectors/office365users/), [Power Automate Management](https://learn.microsoft.com/en-us/connectors/flowmanagement/) and [Power Platform for Admins](https://learn.microsoft.com/en-us/connectors/powerplatformforadmins/)",
              "text": {
                "default": "The environment DLP policy allows for the following connectors [Microsoft Dataverse](https://learn.microsoft.com/en-us/connectors/commondataserviceforapps/), [Microsoft Dataverse (Legacy)](https://learn.microsoft.com/en-us/connectors/commondataservice/), [Office 365 Outlook](https://learn.microsoft.com/en-us/connectors/office365/), [Office 365 Users](https://learn.microsoft.com/en-us/connectors/office365users/), [Power Automate Management](https://learn.microsoft.com/en-us/connectors/flowmanagement/) and [Power Platform for Admins](https://learn.microsoft.com/en-us/connectors/powerplatformforadmins/)",
                "sv": "Miljön DLP-principen tillåter följande anslutningsappar [Microsoft Dataverse](https://learn.microsoft.com/en-us/connectors/commondataserviceforapps/), [Microsoft Dataverse (äldre)](https://learn.microsoft.com/en-us/connectors/commondataservice/), [Office 365 Outlook](https://learn.microsoft.com/en-us/connectors/office365/), [Office 365-användare](https://learn.microsoft.com/en-us/connectors/office365users/), [Power Automate-hantering](https://learn.microsoft.com/en-us/connectors/flowmanagement/) och [Power Platform för administratörer](https://learn.microsoft.com/en-us/connectors/powerplatformforadmins/)"
              }
            },
            {
              "value": "A Azure Application Registration",
              "text": {
                "default": "A Azure Application Registration",
                "sv": "En Azure-programregistrering"
              }
            },
            {
              "value": "Configured Azure Application API Permissions",
              "text": {
                "default": "Configured Azure Application API Permissions",
                "sv": "Konfigurerade API-behörigheter för Azure-program"
              }
            },
            {
              "value": "Configured Azure Application ClientId and Secret",
              "text": {
                "default": "Configured Azure Application ClientId and Secret",
                "sv": "Konfigurerat Azure Application ClientId och hemlighet"
              }
            },
            {
              "value": "An Azure Key Vault to store the ClientId, Secret and Tenant Id",
              "text": {
                "default": "An Azure Key Vault to store the ClientId, Secret and Tenant Id",
                "sv": "En Azure Key Vault för att lagra ClientId, hemlighet och klientorganisations-ID"
              }
            }
          ]
        },
        {
          "type": "html",
          "visibleIf": "contains({prereqTest2}, 'I DO NOT have environment administrator rights')",
          "html": {
            "default": "You will need to have have an environment admin enable <a href='https://learn.microsoft.com/power-apps/developer/component-framework/component-framework-for-canvas-apps#enable-the-power-apps-component-framework-feature' target='blank'>PowerApps component framework feature</a>. If you have PowerApps component framework feature enabled you do not need environment administrator rights.",
            "sv": "Du måste ha en miljöadministratör aktiverad <a href='https://learn.microsoft.com/power-apps/developer/component-framework/component-framework-for-canvas-apps#enable-the-power-apps-component-framework-feature' target='blank'>Funktion för PowerApps-komponentramverk</a>. Om du har aktiverat PowerApps-komponentramverksfunktionen behöver du inte miljöadministratörsrättigheter."
          }
        },
        {
          "type": "boolean",
          "name": "isSystemCustomizer",
          "visibleIf": "contains({prereqTest2}, 'I DO NOT have environment administrator rights')",
          "title": {
            "default": "Are you a member of the System Customizer role for the environment?",
            "sv": "Är du medlem i rollen Systemanpassare för miljön?"
          }
        },
        {
          "type": "html",
          "visibleIf": "contains({prereqTest2}, 'I DO NOT have environment administrator rights') and {isSystemCustomizer} = false",
          "html": {
            "default": "You will need need to have a minimum of System Customizer to import the Automation Kit solutions",
            "sv": "Du måste ha ett minimum av systemanpassare för att importera Automation Kit-lösningarna"
          }
        },
        {
          "type": "html",
          "html": {
            "default": "Read more in <a href='https://learn.microsoft.com/power-automate/guidance/automation-kit/setup/prerequisites' target='blank'>Automation Kit Prerequisites</a>",
            "sv": "Läs mer i <a href='https://learn.microsoft.com/power-automate/guidance/automation-kit/setup/prerequisites' target='blank'>Förutsättningar för automatiseringspaket</a>"
          }
        }
      ]
    },
    {
      "title": {
        "default": "Satellite Solution - Connections",
        "sv": "Satellitlösning - Anslutningar"
      },
      "visibleIf": "contains({installType}, 'Satellite solution')",
      "elements": [
        {
          "type": "html",
          "html": {
            "default": "For the install environment visit <a href='https://make.powerapps.com' target='blank'>make.powerapps.com</a> select the home icon for your environment you want to install the Automation Kit components into",
            "sv": "För installationsmiljön besök <a href='https://make.powerapps.com' target='blank'>make.powerapps.com</a> välj hemikonen för din miljö som du vill installera Automation Kit-komponenterna i"
          }
        },
        {
          "name": "satellite-installEnvironment",
          "type": "text",
          "title": {
            "default": "Copy Install Environment home link",
            "sv": "Kopiera startlänken för installationsmiljön"
          },
          "isRequired": true,
          "validators": [
            {
              "type": "regex",
              "text": {
                "default": "Must be a valid Power Platform environment starting with https://make.powerapps.com",
                "sv": "Måste vara en giltig Power Platform miljö som börjar med [https://make.powerapps.com]()"
              },
              "regex": "^(https://(.*?).powerapps.com/environments/)([a-zA-Z0-9\\-].*?)(/home)"
            }
          ]
        },
        {
          "type": "html",
          "html": {
            "default": "<b>NOTE:</b> This environment MUST be the different than the main environment.",
            "sv": "<b>NOT:</b> Denna miljö MÅSTE vara annorlunda än huvudmiljön."
          }
        },
        {
          "type": "create-connection",
          "title": {
            "default": "Create",
            "sv": "Skapa"
          },
          "connector": "shared_commondataservice",
          "environment": "satellite-installEnvironment"
        },
        {
          "name": "satellite-dataverseLegacyConnection",
          "type": "text",
          "title": {
            "default": "Copy Microsoft Dataverse (Legacy) Connection details page link here",
            "sv": "Kopiera Microsoft Dataverse (äldre) Länk till anslutningsinformation här"
          },
          "startWithNewLine": false,
          "isRequired": true,
          "validators": [
            {
              "type": "regex",
              "text": {
                "default": "Must be a valid Power Platform connection link starting with https://make.powerapps.com",
                "sv": "Måste vara en giltig Power Platform anslutningslänk som börjar med [https://make.powerapps.com]()"
              },
              "regex": "^(https://(.*?).powerapps.com/environments/)([a-zA-Z0-9\\-].*?)(/connections/shared_commondataservice/)[a-zA-Z0-9]{32,32}(/details.*)"
            }
          ]
        },
        {
          "type": "html",
          "html": {
            "default": "The Dataverse Legacy connector is used to connect to your main Dataverse environment",
            "sv": "Den äldre Dataverse-anslutningsappen används för att ansluta till din huvudsakliga Dataverse-miljö"
          }
        },
        {
          "type": "create-connection",
          "title": {
            "default": "Create",
            "sv": "Skapa"
          },
          "connector": "shared_commondataserviceforapps",
          "environment": "satellite-installEnvironment"
        },
        {
          "name": "satellite-dataverseConnection",
          "type": "text",
          "title": {
            "default": "Copy Microsoft Dataverse Connection details page link here",
            "sv": "Kopiera länken till sidan Microsoft Dataverse-anslutningsinformation här"
          },
          "startWithNewLine": false,
          "isRequired": true,
          "validators": [
            {
              "type": "regex",
              "text": {
                "default": "Must be a valid Power Platform connection link starting with https://make.powerapps.com",
                "sv": "Måste vara en giltig Power Platform anslutningslänk som börjar med [https://make.powerapps.com]()"
              },
              "regex": "^(https://(.*?).powerapps.com/environments/)([a-zA-Z0-9\\-].*?)(/connections/shared_commondataserviceforapps/)[a-zA-Z0-9]{32,32}(/details.*)"
            }
          ]
        },
        {
          "type": "html",
          "html": {
            "default": "The Dataverse connector is used to store your Automation Kit project and telemetry data",
            "sv": "Dataverse-anslutningsappen används för att lagra Automation Kit-projektet och telemetridata"
          }
        },
        {
          "type": "create-connection",
          "title": {
            "default": "Create",
            "sv": "Skapa"
          },
          "connector": "shared_flowmanagement",
          "environment": "satellite-installEnvironment"
        },
        {
          "name": "satellite-flowManagementConnection",
          "type": "text",
          "title": {
            "default": "Copy Flow Management Connection details page link here",
            "sv": "Kopiera länken Flödeshanteringsanslutningsinformation här"
          },
          "startWithNewLine": false,
          "isRequired": true,
          "validators": [
            {
              "type": "regex",
              "text": {
                "default": "Must be a valid Power Platform connection link starting with https://make.powerapps.com",
                "sv": "Måste vara en giltig Power Platform anslutningslänk som börjar med [https://make.powerapps.com]()"
              },
              "regex": "^(https://(.*?).powerapps.com/environments/)([a-zA-Z0-9\\-].*?)(/connections/shared_flowmanagement/)[a-zA-Z0-9]{32,32}(/details.*)"
            }
          ]
        },
        {
          "type": "html",
          "html": {
            "default": "The Flow Management connector is used to query Power Automate flows in the environment",
            "sv": "Flow Management-anslutningsappen används för att fråga Power Automate flöden i miljön"
          }
        },
        {
          "type": "create-connection",
          "title": {
            "default": "Create",
            "sv": "Skapa"
          },
          "connector": "shared_office365",
          "environment": "satellite-installEnvironment"
        },
        {
          "name": "satellite-office365OutlookConnection",
          "type": "text",
          "title": {
            "default": "Copy Office 365 Outlook Connection details page link here",
            "sv": "Kopiera länken till sidan med anslutningsinformation för Office 365 Outlook här"
          },
          "startWithNewLine": false,
          "isRequired": true,
          "validators": [
            {
              "type": "regex",
              "text": {
                "default": "Must be a valid Power Platform connection link starting with https://make.powerapps.com",
                "sv": "Måste vara en giltig Power Platform anslutningslänk som börjar med [https://make.powerapps.com]()"
              },
              "regex": "^(https://(.*?).powerapps.com/environments/)([a-zA-Z0-9\\-].*?)(/connections/shared_office365/)[a-zA-Z0-9]{32,32}(/details.*)"
            }
          ]
        },
        {
          "type": "html",
          "html": {
            "default": "The Office 365 connector is used to send emails as part of the Automation Kit management process",
            "sv": "Office 365-anslutningsappen används för att skicka e-post som en del av Automation Kit-hanteringsprocessen"
          }
        },
        {
          "type": "create-connection",
          "title": {
            "default": "Create",
            "sv": "Skapa"
          },
          "connector": "shared_office365users",
          "environment": "satellite-installEnvironment"
        },
        {
          "name": "satellite-office365UserConnection",
          "type": "text",
          "title": {
            "default": "Copy Office 365 User Connection details page link here",
            "sv": "Kopiera länken till sidan Användaranslutning för Office 365 här"
          },
          "startWithNewLine": false,
          "isRequired": true,
          "validators": [
            {
              "type": "regex",
              "text": {
                "default": "Must be a valid Power Platform connection link starting with https://make.powerapps.com",
                "sv": "Måste vara en giltig Power Platform anslutningslänk som börjar med [https://make.powerapps.com]()"
              },
              "regex": "^(https://(.*?).powerapps.com/environments/)([a-zA-Z0-9\\-].*?)(/connections/shared_office365users/)[a-zA-Z0-9]{32,32}(/details.*)"
            }
          ]
        },
        {
          "type": "html",
          "html": {
            "default": "The Office 365 users connector is used to query user information from the Office 365 graph",
            "sv": "Office 365-användaranslutningen används för att fråga användarinformation från Office 365-diagrammet"
          }
        },
        {
          "type": "create-connection",
          "title": {
            "default": "Create",
            "sv": "Skapa"
          },
          "connector": "shared_powerplatformforadmins",
          "environment": "satellite-installEnvironment"
        },
        {
          "name": "satellite-powerPlatformAdminConnection",
          "type": "text",
          "title": {
            "default": "Copy Power Platform for Admins Automation Connection details page link here",
            "sv": "Kopiera länken Power Platform for Admins Automation Connection Connection (information om  för administratörer) här"
          },
          "startWithNewLine": false,
          "isRequired": true,
          "validators": [
            {
              "type": "regex",
              "text": {
                "default": "Must be a valid Power Platform connection link starting with https://make.powerapps.com",
                "sv": "Måste vara en giltig Power Platform anslutningslänk som börjar med [https://make.powerapps.com]()"
              },
              "regex": "^(https://(.*?).powerapps.com/environments/)([a-zA-Z0-9\\-].*?)(/connections/shared_powerplatformforadmins/)[a-zA-Z0-9]{32,32}(/details.*)"
            }
          ]
        },
        {
          "type": "html",
          "html": {
            "default": "The Power Platform for Admins Automation connector is used to query information about your deployed solutions",
            "sv": "Anslutningsappen Power Platform for Admins Automation används för att fråga information om dina distribuerade lösningar"
          }
        }
      ]
    },
    {
      "title": {
        "default": "Satellite Solution - Environment Variables",
        "sv": "Satellitlösning - Miljövariabler"
      },
      "visibleIf": "contains({installType}, 'Satellite solution')",
      "elements": [
        {
          "type": "html",
          "html": {
            "default": "Follow [Environment Variable Setup Guide](https://learn.microsoft.com/power-automate/guidance/automation-kit/setup/environment-variables) to obtain the values for the items below",
            "sv": "Följa [Inställningsguide för miljövariabel](https://learn.microsoft.com/power-automate/guidance/automation-kit/setup/environment-variables) för att få värdena för objekten nedan"
          }
        },
        {
          "name": "satellite-azureKeyVaultClientId",
          "type": "text",
          "title": {
            "default": "AKV Client Id Secret",
            "sv": "Hemlighet för AKV-klient-ID"
          },
          "isRequired": true
        },
        {
          "name": "satellite-azureKeyVaultClientSecret",
          "type": "text",
          "title": {
            "default": "AKV Client Secret Secret",
            "sv": "Hemlig hemlighet för AKV-klient"
          },
          "isRequired": true
        },
        {
          "name": "satellite-azureKeyVaultTenantIdSecret",
          "type": "text",
          "title": {
            "default": "AKV Tenant Id Secret",
            "sv": "Hemlighet för AKV-klientorganisations-ID"
          },
          "isRequired": true
        },
        {
          "name": "satellite-automationCoEAlertEmailRecipient",
          "type": "text",
          "title": {
            "default": "Automation CoE Alert Email Recipient",
            "sv": "Automation CoE-varning e-postmottagare"
          },
          "isRequired": true
        },
        {
          "name": "satellite-automationProjectAppId",
          "type": "text",
          "title": {
            "default": "Automation Project app Id",
            "sv": "App-ID för Automation-projekt"
          },
          "isRequired": true
        },
        {
          "name": "satellite-desktopFlowsBaseUrl",
          "type": "text",
          "title": {
            "default": "Desktop Flows Base URL",
            "sv": "Bas-URL för datorflöden"
          },
          "isRequired": true
        },
        {
          "name": "satellite-environmentId",
          "type": "text",
          "title": {
            "default": "Environment Id",
            "sv": "Miljö-ID"
          },
          "isRequired": true
        },
        {
          "name": "satellite-environmentName",
          "type": "text",
          "title": {
            "default": "Environment Name",
            "sv": "Miljönamn"
          },
          "isRequired": true
        },
        {
          "name": "satellite-environmentRegion",
          "type": "text",
          "title": {
            "default": "Environment Region",
            "sv": "Miljöregion"
          },
          "isRequired": true
        },
        {
          "name": "satellite-environmentUniqueName",
          "type": "text",
          "title": {
            "default": "Environment Unique Name",
            "sv": "Miljö unikt namn"
          },
          "isRequired": true
        },
        {
          "name": "satellite-environmentUniqueNameMain",
          "type": "text",
          "title": {
            "default": "Environment Unique Name (Automation Kit Main)",
            "sv": "Miljö unikt namn (Automation Kit Main)"
          },
          "isRequired": true
        },
        {
          "name": "satellite-environmentUrl",
          "type": "text",
          "title": {
            "default": "Environment Url",
            "sv": "Url för miljö"
          },
          "isRequired": true
        },
        {
          "name": "satellite-flowSessionTraceRecordOwnerId",
          "type": "text",
          "title": {
            "default": "Flow Session Trace Record Owner Id",
            "sv": "Ägar-ID för flödessessionsspårningspost"
          },
          "isRequired": true
        }
      ]
    },
    {
      "title": {
        "default": "Satellite Solution - Options",
        "sv": "Satellitlösning - Alternativ"
      },
      "visibleIf": "contains({installType}, 'Satellite solution')",
      "elements": [
        {
          "type": "boolean",
          "name": "satellite-storeFlowScript",
          "isRequired": true,
          "valueTrue": "Yes",
          "valueFalse": "No",
          "title": {
            "default": "Store the extracted Power Automate Desktop script in Dataverse?",
            "sv": "Lagra det extraherade Power Automate Desktop-skriptet i Dataverse?"
          }
        },
        {
          "type": "html",
          "visibleIf": "{satellite-storeFlowScript} == true",
          "html": {
            "default": "Will <b>store</b> Desktop flows definition script inside the Desktop Flow Definition table. This field could contain sensitive information",
            "sv": "Vilja <b>butik</b> Definitionsskript för datorflöden i tabellen Desktop Flow Definition. Det här fältet kan innehålla känslig information"
          }
        },
        {
          "type": "html",
          "visibleIf": "{satellite-storeFlowScript} == false",
          "html": {
            "default": "Will <b>NOT</b> Desktop flows definition script inside the Desktop Flow Definition table. NOTE: This field could contain sensitive information",
            "sv": "Vilja <b>INTE</b> Definitionsskript för datorflöden i tabellen Desktop Flow Definition. Det här fältet kan innehålla känslig information"
          }
        },
        {
          "type": "boolean",
          "name": "satellite-activateAllCloudFlows",
          "isRequired": true,
          "title": {
            "default": "Enable satellite flows?",
            "sv": "Aktivera satellitflöden?"
          }
        },
        {
          "type": "html",
          "visibleIf": "{satellite-activateAllCloudFlows} == true",
          "html": {
            "default": "Will enable Cloud flows that are included in the Automation Kit Satellite solution",
            "sv": "Aktiverar molnflöden som ingår i Automation Kit Satellite-lösningen"
          }
        },
        {
          "type": "text",
          "name": "satellite-azureAppId",
          "isRequired": true,
          "title": {
            "default": "What is the Azure Application Id to register as Application User?",
            "sv": "Vad är det Azure-program-ID som ska registreras som programanvändare?"
          }
        }
      ]
    },
    {
      "visibleIf": "contains({installType}, 'Satellite solution')",
      "elements": [
        {
          "type": "html",
          "html": {
            "default": "Use the download button below to obtain your satellite configuration file that will be used to customize your deployment",
            "sv": "Använd nedladdningsknappen nedan för att hämta satellitkonfigurationsfilen som ska användas för att anpassa distributionen"
          }
        },
        {
          "type": "download-task",
          "title": {
            "default": "Download results",
            "sv": "Ladda ner resultat"
          },
          "text": {
            "default": "Download",
            "sv": "Ladda ned"
          },
          "name": "downloadResults",
          "fileName": "automation-kit-satellite-install.json",
          "filter": "satellite"
        }
      ]
    }
  ]
}